<h1 class="text-3xl ml-7">Registro de caso --Conflicto--</h1>
<form class="example-forme w-full p-2">
  <p class="text ml-5">Identificadores del caso</p>

  <div class="gap-4 p-5 grid grid-cols-1 md:grid-cols-2">

    <mat-form-field class="w-full">
      <mat-label>Numero de Caso (DEIC)</mat-label>
      <input matInput placeholder="DEIC52-2025-01-02-01" value="">
    </mat-form-field>

    <mat-form-field class="w-full">
      <mat-label>Numero de Caso (MP)</mat-label>
      <input matInput placeholder="M0030-2025-100" value="">
    </mat-form-field>

  </div>

 <!-- Datos del Infractor -->
<p class="text ml-5">Datos de los Infractores</p>
<div class="infractores-container p-5">
  <div
    *ngFor="let infractor of infractores; let i = index"
    class="gap-4 p-5 mb-5 grid grid-cols-1 md:grid-cols-2 border border-gray-300 rounded-lg"
  >
    <mat-form-field class="w-full">
      <mat-label>Nombre del Infractor</mat-label>
      <input
        matInput
        placeholder="Nombre completo"
        [(ngModel)]="infractor.nombre"
        name="nombreInfractor-{{ i }}"
      />
    </mat-form-field>

    <mat-form-field class="w-full">
      <mat-label>CUI</mat-label>
      <input
        matInput
        placeholder="Número de CUI"
        [(ngModel)]="infractor.cui"
        name="cuiInfractor-{{ i }}"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Fecha de Nacimiento</mat-label>
      <input
        matInput
        [matDatepicker]="pickerInfractor"
        [(ngModel)]="infractor.fechaNacimiento"
        name="fechaNacimientoInfractor-{{ i }}"
      />
      <mat-datepicker-toggle matSuffix [for]="pickerInfractor"></mat-datepicker-toggle>
      <mat-datepicker #pickerInfractor></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="w-full">
      <mat-label>Dirección</mat-label>
      <input
        matInput
        placeholder="Dirección de residencia"
        [(ngModel)]="infractor.direccion"
        name="direccionInfractor-{{ i }}"
      />
    </mat-form-field>

    <button
      type="button"
      (click)="eliminarInfractor(i)"
      class="col-span-full text-red-500 underline text-sm mt-2"
    >
      Eliminar este infractor
    </button>
  </div>

  <div class="text-center">
    <button
      type="button"
      (click)="agregarInfractor()"
      class="px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-700"
    >
      Añadir Infractor
    </button>
  </div>
</div>

<!-- Datos de las Víctimas (sin cambios) -->


<!-- Sección para datos de víctimas -->
<p class="text ml-5">Datos de las Víctimas</p>
<div class="victimas-container p-5">
  <div
    *ngFor="let victima of victimas; let i = index"
    class="gap-4 p-5 mb-5 grid grid-cols-1 md:grid-cols-2 border border-gray-300 rounded-lg"
  >
    <mat-form-field class="w-full">
      <mat-label>Nombre de la Víctima</mat-label>
      <input
        matInput
        placeholder="Nombre completo"
        [(ngModel)]="victima.nombre"
        name="nombreVictima-{{ i }}"
      />
    </mat-form-field>

    <mat-form-field class="w-full">
      <mat-label>Edad</mat-label>
      <input
        matInput
        type="number"
        placeholder="Edad en años"
        [(ngModel)]="victima.edad"
        name="edadVictima-{{ i }}"
      />
    </mat-form-field>

    <mat-form-field class="w-full">
      <mat-label>Direccion</mat-label>
      <input
        matInput
        placeholder="Direccion de residencia"
        [(ngModel)]="victima.direccion"
        name="direccion-{{ i }}"
      />
    </mat-form-field>

    <mat-form-field class="w-full">
      <mat-label>Cui</mat-label>
      <input
        matInput
        placeholder="Numero de cui"
        [(ngModel)]="victima.cui"
        name="cui-{{ i }}"
      />
    </mat-form-field>

    <button
      type="button"
      (click)="eliminarVictima(i)"
      class="col-span-full text-red-500 underline text-sm mt-2"
    >
      Eliminar esta víctima
    </button>
  </div>

  <div class="text-center">
    <button
      type="button"
      (click)="agregarVictima()"
      class="px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-700"
    >
      Añadir Víctima
    </button>
  </div>
</div>


  <p class="text ml-5">Cargar archivo de investigacion</p>
  <div class="file-upload-container p-5 mx-5 bg-gray-100 rounded-lg">
    <label for="fileInput" class="file-upload-label">
      <div class="flex items-center space-x-2 cursor-pointer">
        <img
          src="https://img.icons8.com/ios-glyphs/30/upload.png"
          alt="Upload Icon"
          class="h-6"
        />
        <span>Cargar Archivo</span>
      </div>
    </label>
    <input
      id="fileInput"
      type="file"
      class="file-input hidden"
      (change)="onFileSelected($event)"
    />
    <div class="file-preview mt-3">
      <p *ngIf="fileName">Archivo seleccionado: {{ fileName }}</p>
      <p *ngIf="!fileName">No se ha seleccionado ningún archivo.</p>
    </div>
  </div>

  <section class="p-2">
    <div class="">
      <button mat-flat-button class="w-full">Registrar Caso</button>
    </div>
  </section>

</form>
